<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Hide content until theme is applied -->
    <style>
        html { visibility: hidden; }
    </style>

    <!-- CSS -->
    {% include head.html %}
    <link rel="stylesheet" href="/assets/css/style.css">


    <!-- Apply saved theme instantly to prevent flash -->
    <script>
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.documentElement.dataset.theme = savedTheme;
        } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.dataset.theme = 'dark';
        }
        document.documentElement.style.visibility = 'visible';
    </script>
</head>

<body class="site-body">

    {% include header.html %}

    <main class="site-main">
        {{ content }}
    </main>

    {% include footer.html %}


<script src="/assets/js/script.js"></script>

</body>
</html>

